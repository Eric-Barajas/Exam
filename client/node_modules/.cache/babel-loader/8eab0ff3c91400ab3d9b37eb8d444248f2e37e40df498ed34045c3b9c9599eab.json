{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ebarajas/Desktop/Mern/Exam/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ebarajas/Desktop/Mern/Exam/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ebarajas/Desktop/Mern/Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NewPet=function NewPet(){var _errors$name,_errors$type,_errors$description;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill=_useState8[0],setSkill=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var navigate=useNavigate();var createPet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newPet;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();newPet={name:name,type:type,description:description,skill:skill,skill2:skill2,skill3:skill3};// console.log(newPet);\n// swapping this out to use async/await syntax\naxios.post(\"http://localhost:8000/api/pets/\",newPet).then(function(res){console.log(\"create console log\"+res.data);navigate('/pets');}).catch(function(err){var _err$response,_err$response$data;/*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */console.log(err.response);setErrors((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errors);});case 3:case\"end\":return _context.stop();}},_callee);}));return function createPet(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 p-4 rounded mx-auto shadow\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pets\",children:\" Home \"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Know a pet needing a home?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){createPet(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Name:\"}),(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setName(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Type:\"}),(errors===null||errors===void 0?void 0:errors.type)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$type=errors.type)===null||_errors$type===void 0?void 0:_errors$type.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setType(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Description:\"}),(errors===null||errors===void 0?void 0:errors.description)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setDescription(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"Skills (optional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill2(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill3(event.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-sm btn-outline-danger mx-1\",to:\"/pets\",children:\" Cancel \"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-success\",children:\"Submit\"})]})]});};export default NewPet;","map":{"version":3,"names":["axios","useState","useNavigate","Link","NewPet","name","setName","type","setType","description","setDescription","skill","setSkill","skill2","setSkill2","skill3","setSkill3","errors","setErrors","navigate","createPet","e","preventDefault","newPet","post","then","res","console","log","data","catch","err","response","color","message","event","target","value"],"sources":["/Users/ebarajas/Desktop/Mern/Exam/client/src/components/NewPet.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nexport const NewPet = () => {\n    const [name, setName] = useState(\"\");\n    const [type, setType] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [skill, setSkill] = useState(\"\");\n    const [skill2, setSkill2] = useState(\"\");\n    const [skill3, setSkill3] = useState(\"\");\n\n    const [errors, setErrors] = useState(null);\n\n    const navigate = useNavigate();\n\n    const createPet = async (e) => {\n        e.preventDefault();\n        const newPet = {\n            name,\n            type,\n            description,\n            skill,\n            skill2,\n            skill3\n        }\n\n        // console.log(newPet);\n        // swapping this out to use async/await syntax\n        axios.post(\"http://localhost:8000/api/pets/\", newPet)\n            .then(res => {\n                console.log(\"create console log\" + res.data);\n                navigate('/pets')\n            }).catch(err => {\n                /*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */\n                console.log(err.response);\n                setErrors(err.response?.data?.errors)\n            })\n    }\n\n    return (\n        <div className=\"w-50 p-4 rounded mx-auto shadow\">\n            <Link to=\"/pets\"> Home </Link>\n            <h4>Know a pet needing a home?</h4>\n            <form\n                onSubmit={e => { createPet(e) }}\n            >\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Name:</label>\n                    {\n                        errors?.name && (\n                            <p style={{ color: 'red' }}>{errors.name?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setName(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Type:</label>\n                    {\n                        errors?.type && (\n                            <p style={{ color: 'red' }}>{errors.type?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setType(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Description:</label>\n                    {\n                        errors?.description && (\n                            <p style={{ color: 'red' }}>{errors.description?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setDescription(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n\n                <div>\n                    <hr />\n                    <h5>Skills (optional)</h5>\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 1:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 2:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill2(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 3:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill3(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n                <Link className=\"btn btn-sm btn-outline-danger mx-1\" to='/pets'> Cancel </Link>\n                <button className=\"btn btn-sm btn-outline-success\">Submit</button>\n            </form>\n        </div>\n    )\n};\n\nexport default NewPet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}