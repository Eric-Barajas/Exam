{"ast":null,"code":"import _slicedToArray from\"/Users/ebarajas/Desktop/Mern/Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useNavigate,Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPet=function EditPet(){var _errors$name,_errors$type,_errors$description;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill=_useState8[0],setSkill=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];// url route param matching `:id`.\nvar _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(id)).then(function(res){var _res$data=res.data,name=_res$data.name,type=_res$data.type,description=_res$data.description,skill=_res$data.skill,skill2=_res$data.skill2,skill3=_res$data.skill3;console.log(typeof id);setName(name);setType(type);setDescription(description);setSkill(skill);setSkill2(skill2);setSkill3(skill3);}).catch(function(err){console.log(err);navigate('/errors');});},[navigate,id]);var handleUpdate=function handleUpdate(e){e.preventDefault();var editedPet={name:name,type:type,description:description,skill:skill,skill2:skill2,skill3:skill3};axios.put(\"http://localhost:8000/api/pets/\".concat(id),editedPet).then(function(res){console.log(res);navigate('/pets');}).catch(function(err){var _err$response,_err$response$data;console.log(err.response);/*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */setErrors((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errors);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 p-4 rounded mx-auto shadow\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pets\",children:\" Home \"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" Edit \",name,\" \"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){handleUpdate(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Name:\"}),(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setName(event.target.value);},type:\"text\",className:\"form-control\",value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Type:\"}),(errors===null||errors===void 0?void 0:errors.type)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$type=errors.type)===null||_errors$type===void 0?void 0:_errors$type.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setType(event.target.value);},type:\"text\",className:\"form-control\",value:type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Description:\"}),(errors===null||errors===void 0?void 0:errors.description)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setDescription(event.target.value);},type:\"text\",className:\"form-control\",value:description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill(event.target.value);},type:\"text\",className:\"form-control\",value:skill})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill2(event.target.value);},type:\"text\",className:\"form-control\",value:skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill3(event.target.value);},type:\"text\",className:\"form-control\",value:skill3})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-success mx-1\",children:\" Edit Pet \"})]})]});};export default EditPet;","map":{"version":3,"names":["axios","useState","useEffect","useNavigate","Link","useParams","EditPet","name","setName","type","setType","description","setDescription","skill","setSkill","skill2","setSkill2","skill3","setSkill3","errors","setErrors","id","navigate","get","then","res","data","console","log","catch","err","handleUpdate","e","preventDefault","editedPet","put","response","color","message","event","target","value"],"sources":["/Users/ebarajas/Desktop/Mern/Exam/client/src/components/EditPet.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link, useParams } from \"react-router-dom\";\n\nconst EditPet = () => {\n    const [name, setName] = useState(\"\");\n    const [type, setType] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [skill, setSkill] = useState(\"\");\n    const [skill2, setSkill2] = useState(\"\");\n    const [skill3, setSkill3] = useState(\"\");\n\n    const [errors, setErrors] = useState(null);\n\n    // url route param matching `:id`.\n    const { id } = useParams();\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${id}`)\n            .then(res => {\n                const {\n                    name,\n                    type,\n                    description,\n                    skill,\n                    skill2,\n                    skill3\n                } = res.data\n                console.log(typeof id);\n                setName(name);\n                setType(type);\n                setDescription(description);\n                setSkill(skill);\n                setSkill2(skill2);\n                setSkill3(skill3);\n            }).catch(err => {\n                console.log(err);\n                navigate('/errors')\n            })\n    }, [navigate, id])\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        const editedPet = {\n            name,\n            type,\n            description,\n            skill,\n            skill2,\n            skill3\n        }\n\n        axios.put(`http://localhost:8000/api/pets/${id}`, editedPet)\n            .then(res => {\n                console.log(res);\n                navigate('/pets');\n            }).catch(err => {\n                console.log(err.response);\n                /*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */\n                setErrors(err.response?.data?.errors)\n            })\n    }\n\n    return (\n        <div className=\"w-50 p-4 rounded mx-auto shadow\">\n            <Link to=\"/pets\"> Home </Link>\n            <h4> Edit {name} </h4>\n            <form\n                onSubmit={e => { handleUpdate(e) }}\n            >\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Name:</label>\n                    {\n                        errors?.name && (\n                            <p style={{ color: 'red' }}>{errors.name?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setName(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={name}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Type:</label>\n                    {\n                        errors?.type && (\n                            <p style={{ color: 'red' }}>{errors.type?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setType(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={type}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Pet Description:</label>\n                    {\n                        errors?.description && (\n                            <p style={{ color: 'red' }}>{errors.description?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setDescription(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={description}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 1:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={skill}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 2:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill2(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={skill2}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"h6\">Skill 3:</label>\n                    <input\n                        onChange={(event) => {\n                            setSkill3(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={skill3}\n                    />\n                </div>\n                {/* <Link className=\"btn btn-sm btn-outline-success mx-1\" to='/pets'> Edit Pet </Link> */}\n                <button className=\"btn btn-sm btn-outline-success mx-1\"> Edit Pet </button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditPet"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}