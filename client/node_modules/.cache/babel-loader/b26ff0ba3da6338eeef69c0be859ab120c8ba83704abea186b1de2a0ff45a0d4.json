{"ast":null,"code":"import _slicedToArray from\"/Users/ebarajas/Desktop/Mern/Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllPets=function AllPets(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){axios.get('http://localhost:8000/api/pets').then(function(res){console.log(res.data);// res.data an array of objects\nres.data.sort(function(a,b){return(// based off comparison return a 1 or a -1 \na.type.toLowerCase()>b.type.toLowerCase()?1:-1);});setPets(res.data);}).catch(function(err){console.log(err);});},[]);// const handleDelete = (idToBeDeleted) => {\n//     axios.delete(`http://localhost:8000/api/pets/${idToBeDeleted}`)\n//         .then(res => {\n//             const filteredPets = pets.filter((pet) => {\n//                 return pet._id !== idToBeDeleted;\n//             })\n//             setPets(filteredPets);\n//         }).catch(err => {\n//             console.log(err);\n//         })\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/pets/new\",children:\" Add an pet \"}),/*#__PURE__*/_jsx(\"h4\",{children:\"These pets are looking for a good home\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.map(function(pet){// destructuring pet \nvar _id=pet._id,name=pet.name,type=pet.type;return/*#__PURE__*/_jsxs(\"tr\",{className:\"shadow mb-4 rounded border p-4 \",children:[/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-sm btn-outline-danger mx-1\",to:\"/pets/\".concat(_id),children:\"details \"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-sm btn-outline-danger mx-1\",to:\"/pets/\".concat(_id,\"/edit\"),children:\" edit \"})]})]},_id);})})]})]});};export default AllPets;","map":{"version":3,"names":["useEffect","useState","Link","axios","AllPets","pets","setPets","get","then","res","console","log","data","sort","a","b","type","toLowerCase","catch","err","map","pet","_id","name"],"sources":["/Users/ebarajas/Desktop/Mern/Exam/client/src/components/AllPets.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst AllPets = () => {\n    const [pets, setPets] = useState([]);\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/pets')\n            .then(res => {\n                console.log(res.data);\n                // res.data an array of objects\n                res.data.sort((a, b) => (\n                    // based off comparison return a 1 or a -1 \n                    (a.type.toLowerCase() > b.type.toLowerCase()) ? 1 : -1\n                ));\n                setPets(res.data);\n            }).catch(err => {\n                console.log(err);\n            })\n    }, [])\n\n    // const handleDelete = (idToBeDeleted) => {\n    //     axios.delete(`http://localhost:8000/api/pets/${idToBeDeleted}`)\n    //         .then(res => {\n    //             const filteredPets = pets.filter((pet) => {\n    //                 return pet._id !== idToBeDeleted;\n    //             })\n\n    //             setPets(filteredPets);\n    //         }).catch(err => {\n    //             console.log(err);\n    //         })\n    // }\n\n    return (\n        <div className=\"container\">\n            <div>\n                <Link to=\"/pets/new\"> Add an pet </Link>\n                <h4>These pets are looking for a good home</h4>\n            </div>\n            <table className=\"table table-hover\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Type</th>\n                        <th scope=\"col\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {pets.map((pet) => {\n                        // destructuring pet \n                        const { _id, name, type } = pet;\n                        return (\n                            <tr key={_id} className=\"shadow mb-4 rounded border p-4 \">\n                                <td>{name}</td>\n                                <td>{type}</td>\n                                <td>\n                                    <Link className=\"btn btn-sm btn-outline-danger mx-1\" to={`/pets/${_id}`}>details </Link>\n                                    <Link className=\"btn btn-sm btn-outline-danger mx-1\" to={`/pets/${_id}/edit`}> edit </Link>\n                                    {/* <button\n                                        onClick={(e) => { handleDelete(_id) }}\n                                        className=\"btn btn-sm btn-outline-danger mx-1\"\n                                    >\n                                        Delete\n                                    </button> */}\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default AllPets"],"mappings":"8HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClB,cAAwBH,QAAQ,CAAC,EAAE,CAAC,wCAA7BI,IAAI,eAAEC,OAAO,eAEpBN,SAAS,CAAC,UAAM,CACZG,KAAK,CAACI,GAAG,CAAC,gCAAgC,CAAC,CACtCC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC,CACrB;AACAH,GAAG,CAACG,IAAI,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QACf;AACCD,CAAC,CAACE,IAAI,CAACC,WAAW,EAAE,CAAGF,CAAC,CAACC,IAAI,CAACC,WAAW,EAAE,CAAI,CAAC,CAAG,CAAC,CAAC,GACzD,CAAC,CACFX,OAAO,CAACG,GAAG,CAACG,IAAI,CAAC,CACrB,CAAC,CAAC,CAACM,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC,CACpB,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,mBACI,aAAK,SAAS,CAAC,WAAW,wBACtB,oCACI,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,UAAC,cAAY,EAAO,cACxC,oBAAI,wCAAsC,EAAK,GAC7C,cACN,eAAO,SAAS,CAAC,mBAAmB,wBAChC,oCACI,mCACI,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,cACzB,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,cACzB,WAAI,KAAK,CAAC,KAAK,UAAC,SAAO,EAAK,GAC3B,EACD,cACR,uBACKd,IAAI,CAACe,GAAG,CAAC,SAACC,GAAG,CAAK,CACf;AACA,GAAQC,IAAG,CAAiBD,GAAG,CAAvBC,GAAG,CAAEC,IAAI,CAAWF,GAAG,CAAlBE,IAAI,CAAEP,IAAI,CAAKK,GAAG,CAAZL,IAAI,CACvB,mBACI,YAAc,SAAS,CAAC,iCAAiC,wBACrD,oBAAKO,IAAI,EAAM,cACf,oBAAKP,IAAI,EAAM,cACf,mCACI,KAAC,IAAI,EAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,iBAAWM,GAAG,CAAG,UAAC,UAAQ,EAAO,cACxF,KAAC,IAAI,EAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,iBAAWA,GAAG,SAAQ,UAAC,QAAM,EAAO,GAO1F,GAZAA,GAAG,CAaP,CAEb,CAAC,CAAC,EACE,GACJ,GACN,CAEd,CAAC,CAED,cAAelB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}