{"ast":null,"code":"var _jsxFileName = \"/Users/ebarajas/Desktop/Mern/Exam/client/src/components/NewPet.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const NewPet = () => {\n  _s();\n  var _errors$name;\n  const [name, setName] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n  const navigate = useNavigate();\n  const createPet = async e => {\n    e.preventDefault();\n    const newPet = {\n      name\n    };\n\n    // console.log(newPet);\n    // swapping this out to use async/await syntax\n    axios.post(\"http://localhost:8080/api/pets/\", newPet).then(res => {\n      console.log(\"create console log\" + res.data);\n      navigate('/pets');\n    }).catch(err => {\n      var _err$response, _err$response$data;\n      /*\n      For this catch to happen, the server needs to return an error status code.\n      `?.` is optional chaining to safely access keys that may not exist.\n      `errors` exists on validation errors but maybe not on other errors.\n      */\n      console.log(err.response);\n      setErrors((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errors);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-50 p-4 rounded mx-auto shadow\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/pets\",\n      children: \" Home \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        createPet(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"h6\",\n          children: \"Add a new pet:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.name) && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setName(event.target.value);\n          },\n          type: \"text\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-sm btn-outline-danger mx-1\",\n        to: \"/pets\",\n        children: \" Cancel \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-outline-success\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(NewPet, \"RvDi/o9ndHzIyfh+C4ta6A1GK0A=\", false, function () {\n  return [useNavigate];\n});\n_c = NewPet;\nexport default NewPet;\nvar _c;\n$RefreshReg$(_c, \"NewPet\");","map":{"version":3,"names":["axios","useState","useNavigate","Link","NewPet","name","setName","errors","setErrors","navigate","createPet","e","preventDefault","newPet","post","then","res","console","log","data","catch","err","response","color","message","event","target","value"],"sources":["/Users/ebarajas/Desktop/Mern/Exam/client/src/components/NewPet.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nexport const NewPet = () => {\n    const [name, setName] = useState(\"\");\n\n    const [errors, setErrors] = useState(null);\n\n    const navigate = useNavigate();\n\n    const createPet = async (e) => {\n        e.preventDefault();\n        const newPet = {\n            name\n        }\n\n        // console.log(newPet);\n        // swapping this out to use async/await syntax\n        axios.post(\"http://localhost:8080/api/pets/\", newPet)\n            .then(res => {\n                console.log(\"create console log\" + res.data);\n                navigate('/pets')\n            }).catch(err => {\n                /*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */\n                console.log(err.response);\n                setErrors(err.response?.data?.errors)\n            })\n    }\n\n    return (\n        <div className=\"w-50 p-4 rounded mx-auto shadow\">\n            <Link to=\"/pets\"> Home </Link>\n            <form\n                onSubmit={e => { createPet(e) }}\n            >\n                <div className=\"form-group\">\n                    <label className=\"h6\">Add a new pet:</label>\n                    {\n                        errors?.name && (\n                            <p style={{ color: 'red' }}>{errors.name?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setName(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\"\n                    />\n                </div>\n                <Link className=\"btn btn-sm btn-outline-danger mx-1\" to='/pets'> Cancel </Link>\n                <button className=\"btn btn-sm btn-outline-success\">Submit</button>\n            </form>\n        </div>\n    )\n};\n\nexport default NewPet;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AAAC;AAErD,OAAO,MAAMC,MAAM,GAAG,MAAM;EAAA;EAAA;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMQ,QAAQ,GAAGP,WAAW,EAAE;EAE9B,MAAMQ,SAAS,GAAG,MAAOC,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,MAAM,GAAG;MACXR;IACJ,CAAC;;IAED;IACA;IACAL,KAAK,CAACc,IAAI,CAAC,iCAAiC,EAAED,MAAM,CAAC,CAChDE,IAAI,CAACC,GAAG,IAAI;MACTC,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGF,GAAG,CAACG,IAAI,CAAC;MAC5CV,QAAQ,CAAC,OAAO,CAAC;IACrB,CAAC,CAAC,CAACW,KAAK,CAACC,GAAG,IAAI;MAAA;MACZ;AAChB;AACA;AACA;AACA;MACgBJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAACC,QAAQ,CAAC;MACzBd,SAAS,kBAACa,GAAG,CAACC,QAAQ,wEAAZ,cAAcH,IAAI,uDAAlB,mBAAoBZ,MAAM,CAAC;IACzC,CAAC,CAAC;EACV,CAAC;EAED,oBACI;IAAK,SAAS,EAAC,iCAAiC;IAAA,wBAC5C,QAAC,IAAI;MAAC,EAAE,EAAC,OAAO;MAAA,UAAC;IAAM;MAAA;MAAA;MAAA;IAAA,QAAO,eAC9B;MACI,QAAQ,EAAEI,CAAC,IAAI;QAAED,SAAS,CAACC,CAAC,CAAC;MAAC,CAAE;MAAA,wBAEhC;QAAK,SAAS,EAAC,YAAY;QAAA,wBACvB;UAAO,SAAS,EAAC,IAAI;UAAA,UAAC;QAAc;UAAA;UAAA;UAAA;QAAA,QAAQ,EAExC,CAAAJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEF,IAAI,kBACR;UAAG,KAAK,EAAE;YAAEkB,KAAK,EAAE;UAAM,CAAE;UAAA,0BAAEhB,MAAM,CAACF,IAAI,iDAAX,aAAamB;QAAO;UAAA;UAAA;UAAA;QAAA,QACpD,eAEL;UACI,QAAQ,EAAGC,KAAK,IAAK;YACjBnB,OAAO,CAACmB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;UAC/B,CAAE;UACF,IAAI,EAAC,MAAM;UAAC,SAAS,EAAC;QAAc;UAAA;UAAA;UAAA;QAAA,QACtC;MAAA;QAAA;QAAA;QAAA;MAAA,QACA,eACN,QAAC,IAAI;QAAC,SAAS,EAAC,oCAAoC;QAAC,EAAE,EAAC,OAAO;QAAA,UAAC;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAO,eAC/E;QAAQ,SAAS,EAAC,gCAAgC;QAAA,UAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAC/D;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEd,CAAC;AAAC,GAvDWvB,MAAM;EAAA,QAKEF,WAAW;AAAA;AAAA,KALnBE,MAAM;AAyDnB,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}