{"ast":null,"code":"var _jsxFileName = \"/Users/ebarajas/Desktop/Mern/Exam/client/src/components/EditPet.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditPet = () => {\n  _s();\n  var _errors$name;\n  const [name, setName] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  // url route param matching `:id`.\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/pets/${id}`).then(res => {\n      const {\n        name\n      } = res.data;\n      console.log(typeof id);\n      setName(name);\n    }).catch(err => {\n      console.log(err);\n      navigate('/errors');\n    });\n  }, [navigate, id]);\n  const handleUpdate = e => {\n    e.preventDefault();\n    const editedPet = {\n      name\n    };\n    axios.put(`http://localhost:8000/api/pets/${id}`, editedPet).then(res => {\n      console.log(res);\n      navigate('/pets');\n    }).catch(err => {\n      var _err$response, _err$response$data;\n      console.log(err.response);\n      /*\n      For this catch to happen, the server needs to return an error status code.\n      `?.` is optional chaining to safely access keys that may not exist.\n      `errors` exists on validation errors but maybe not on other errors.\n      */\n      setErrors((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errors);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-50 p-4 rounded mx-auto shadow\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/pets\",\n      children: \" Home \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleUpdate(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"h6\",\n          children: \"Edit this pet:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.name) && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setName(event.target.value);\n          },\n          type: \"text\",\n          className: \"form-control\",\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-sm btn-outline-success mx-1\",\n        to: \"/pets\",\n        children: \" Edit Pet \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(EditPet, \"RrR9K+NDjVDiSVkOPNBiFyZ2E3g=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditPet;\nexport default EditPet;\nvar _c;\n$RefreshReg$(_c, \"EditPet\");","map":{"version":3,"names":["axios","useState","useEffect","useNavigate","Link","useParams","EditPet","name","setName","errors","setErrors","id","navigate","get","then","res","data","console","log","catch","err","handleUpdate","e","preventDefault","editedPet","put","response","color","message","event","target","value"],"sources":["/Users/ebarajas/Desktop/Mern/Exam/client/src/components/EditPet.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link, useParams } from \"react-router-dom\";\n\nconst EditPet = () => {\n    const [name, setName] = useState(\"\");\n\n    const [errors, setErrors] = useState(null);\n\n    // url route param matching `:id`.\n    const { id } = useParams();\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${id}`)\n            .then(res => {\n                const {\n                    name\n                } = res.data\n                console.log(typeof id);\n                setName(name);\n            }).catch(err => {\n                console.log(err);\n                navigate('/errors')\n            })\n    }, [navigate, id])\n\n    const handleUpdate = (e) => {\n        e.preventDefault();\n        const editedPet = {\n            name\n        }\n\n        axios.put(`http://localhost:8000/api/pets/${id}`, editedPet)\n            .then(res => {\n                console.log(res);\n                navigate('/pets');\n            }).catch(err => {\n                console.log(err.response);\n                /*\n                For this catch to happen, the server needs to return an error status code.\n                `?.` is optional chaining to safely access keys that may not exist.\n                `errors` exists on validation errors but maybe not on other errors.\n                */\n                setErrors(err.response?.data?.errors)\n            })\n    }\n\n    return (\n        <div className=\"w-50 p-4 rounded mx-auto shadow\">\n            <Link to=\"/pets\"> Home </Link>\n            <form\n                onSubmit={e => { handleUpdate(e) }}\n            >\n                <div className=\"form-group\">\n                    <label className=\"h6\">Edit this pet:</label>\n                    {\n                        errors?.name && (\n                            <p style={{ color: 'red' }}>{errors.name?.message}</p>\n                        )\n                    }\n                    <input\n                        onChange={(event) => {\n                            setName(event.target.value);\n                        }}\n                        type=\"text\" className=\"form-control\" value={name}\n                    />\n                </div>\n                <Link className=\"btn btn-sm btn-outline-success mx-1\" to='/pets'> Edit Pet </Link>\n            </form>\n        </div>\n    )\n}\n\nexport default EditPet"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}